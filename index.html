<!DOCTYPE html>
<html lang="ar">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="أوقات الصلاة والطقس في مسجد التقوى غريان" />
    <meta name="keywords" content="مسجد التقوى غريان, أوقات الصلاة, الطقس, غريان, رمضان ليبيا, العد التنازلي" />
    <meta property="og:image" content="logo.png" />
    <title>أوقات الصلاة والطقس - المسجد</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600&display=swap" rel="stylesheet" />
    <link rel="icon" href="logo.png" type="image/x-icon" />

    <style>
      /* General styles */
      * {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Cairo", sans-serif;
        background: #eef3f9;
        color: #2c3e50;
        text-align: right;
        direction: rtl;
      }

      header {
        background-color: #34495e;
        color: white;
        padding: 20px 0;
        border-bottom: 4px solid #e74c3c;
      }

      .header-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      .header-logo {
        width: 90px;
        height: auto;
        display: block;
      }

      .header-text {
        text-align: center;
        flex: 1;
      }

      header h1 {
        font-size: 2.5em;
        font-weight: bold;
      }

      header p {
        font-size: 1.2em;
      }

      nav {
        background-color: #2c3e50;
        padding: 15px;
        text-align: center;
      }

      nav a {
        color: #ecf0f1;
        margin: 0 20px;
        text-decoration: none;
        font-size: 1.3em;
      }

      nav a:hover {
        color: #e74c3c;
      }

      .container {
        max-width: 1200px;
        margin: 30px auto;
        padding: 0 20px;
      }

      .section {
        margin-bottom: 40px;
      }

      .prayer-times,
      .weather {
        display: flex;
        justify-content: space-between;
        background-color: #ffffff;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 8px 10px rgba(0, 0, 0, 0.1);
      }

      .prayer-times h2,
      .weather h2 {
        color: #34495e;
        margin-bottom: 20px;
        font-size: 1.5em;
      }

      .prayer-times div,
      .weather div {
        width: 30%;
        text-align: center;
      }

      .prayer-times div span,
      .weather div span {
        display: block;
        margin-top: 10px;
        font-size: 1.3em;
        color: #e74c3c;
      }

      form {
        background-color: #ffffff;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 8px 10px rgba(0, 0, 0, 0.1);
      }

      form h2 {
        margin-bottom: 15px;
        font-size: 1.8em;
        color: #34495e;
      }

      form input,
      form textarea {
        width: 100%;
        padding: 10px;
        margin-bottom: 15px;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 1.1em;
      }

      form button {
        background-color: #e74c3c;
        color: white;
        padding: 10px 20px;
        font-size: 1.1em;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      form button:hover {
        background-color: #c0392b;
      }

      footer {
        background-color: #34495e;
        color: white;
        padding: 10px 0;
        text-align: center;
        border-top: 4px solid #e74c3c;
      }

      /* Ramadan Countdown styles */
      .ramadan-countdown {
        background-color: #34495e;
        color: white;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 8px 10px rgba(0, 0, 0, 0.1);
        text-align: center;
        font-family: "Cairo", sans-serif;
        margin-bottom: 40px;
      }

      .ramadan-countdown h2 {
        font-size: 2em;
        margin-bottom: 15px;
      }

      .countdown-timer {
        font-size: 2.5em;
        font-weight: bold;
        color: #e74c3c;
      }

      /* Ramadan Timetable styles */
      .ramadan-timetable {
        margin: 40px auto;
        text-align: center;
        font-family: "Cairo", sans-serif;
      }

      .ramadan-timetable h2 {
        font-size: 2em;
        color: #34495e;
        margin-bottom: 20px;
      }

      .ramadan-timetable table {
        width: 100%;
        border-collapse: collapse;
        background-color: #ffffff;
        box-shadow: 0 8px 10px rgba(0, 0, 0, 0.1);
        border-radius: 15px;
        overflow: hidden;
      }

      .ramadan-timetable table th,
      .ramadan-timetable table td {
        padding: 15px;
        border: 1px solid #ddd;
        text-align: center;
        font-size: 1.1em;
      }

      .ramadan-timetable table th {
        background-color: #e74c3c;
        color: white;
        font-weight: bold;
      }

      .ramadan-timetable table tr:nth-child(even) {
        background-color: #f9f9f9;
      }

      /* Responsive styles */
      @media (max-width: 768px) {
        .header-container {
          flex-direction: column;
          text-align: center;
        }

        .header-logo {
          width: 80px;
          margin-bottom: 15px;
        }

        .header-text h1 {
          font-size: 1.8em;
        }

        .header-text p {
          font-size: 1.1em;
        }

        .prayer-times,
        .weather {
          flex-direction: column;
        }

        .prayer-times div,
        .weather div {
          width: 100%;
          margin-bottom: 15px;
        }

        nav a {
          font-size: 1.1em;
          margin: 0 10px;
        }

        form input,
        form textarea {
          font-size: 1em;
        }

        footer p {
          font-size: 0.9em;
        }
      }
    </style>
</style>

    </style>
  </head>

  <body>
    <header>
      <div class="header-container">
        <!-- Logo on the top center for phone sizes -->
        <img src="logo.png" alt="Logo" class="header-logo" />
        <div class="header-text">
          <h1>مسجد التقوى بمدينة غريان</h1>
          <p>أوقات الصلاة والتحديثات الجوية المحلية</p>
        </div>
      </div>
    </header>

    <nav>
      <a href="#prayer-times">أوقات الصلاة</a>
      <a href="#weather">الطقس</a>
      <a href="#ramadan">العد التنازلي لشهر رمضان</a>
      <a href="#contact">اتصل بنا</a>
    </nav>

    <div class="container">
      <!-- Ramadan Countdown Section -->
      <section class="section" id="ramadan">
        <div class="ramadan-countdown">
          <h2>العد التنازلي لشهر رمضان المبارك</h2>
          <div class="countdown-timer" id="countdown"></div>
        </div>
      </section>

      <section class="section" id="prayer-times">
        <div class="prayer-times">
          <div>
            <h2>الفجر</h2>
            <span id="fajr">جاري التحميل...</span>
          </div>
          <div>
            <h2>الظهر</h2>
            <span id="dhuhr">جاري التحميل...</span>
          </div>
          <div>
            <h2>العصر</h2>
            <span id="asr">جاري التحميل...</span>
          </div>
          <div>
            <h2>المغرب</h2>
            <span id="maghrib">جاري التحميل...</span>
          </div>
          <div>
            <h2>العشاء</h2>
            <span id="isha">جاري التحميل...</span>
          </div>
        </div>
      </section>

      <section class="section" id="weather">
        <div class="weather">
          <div>
            <h2>الطقس</h2>
            <span id="temperature">جاري التحميل...</span>
          </div>
          <div>
            <h2>الحالة</h2>
            <span id="condition">جاري التحميل...</span>
          </div>
          <div>
            <h2>المدينة</h2>
            <span id="city">جاري التحميل...</span>
          </div>
        </div>
        <section class="ramadan-timetable" id="imsakia">
          <h2>إمساكية رمضان</h2>
          <table>
            <thead>
              <tr>
                <th>اليوم</th>
                <th>وقت الإمساك</th>
                <th>وقت الفجر</th>
                <th>وقت المغرب</th>
                <th>وقت الإفطار</th>
                <th>وقت العشاء</th>
              </tr>
            </thead>
            <tbody>
              <!-- مثال على الأيام -->
              <tr>
                <td>1 رمضان</td>
                <td>04:30</td>
                <td>04:40</td>
                <td>18:15</td>
                <td>18:15</td>
                <td>19:30</td>
              </tr>
              <tr>
                <td>2 رمضان</td>
                <td>04:29</td>
                <td>04:39</td>
                <td>18:16</td>
                <td>18:16</td>
                <td>19:31</td>
              </tr>
              <!-- كرر الصفوف لباقي الأيام -->
            </tbody>
          </table>
        </section>
        
      
      <section class="section" id="contact">
        <form>
          <h2>اتصل بنا</h2>
          <input type="text" placeholder="اسمك" />
          <input type="email" placeholder="بريدك الإلكتروني" />
          <textarea placeholder="رسالتك" rows="5"></textarea>
          <button type="submit">إرسال</button>
        </form>
      </section>
    </div>

    <footer>
      <p>&copy; 2023 مسجد التقوى غريان | جميع الحقوق محفوظة</p>
    </footer>

    <script>
      const adhanAPI =
        "https://api.aladhan.com/v1/timingsByCity?city=Gharyan&country=Libya&method=2";
      const weatherAPI =
        "https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/Gharyan?unitGroup=metric&key=ES5LFXHVGPWF7JZP6P5F23ATZ&contentType=json";

      // Ramadan Countdown script
      function updateRamadanCountdown() {
        const ramadanStart = new Date("2025-03-01T00:00:00"); // Adjust for your region's Ramadan start date
        const now = new Date();
        const remainingTime = ramadanStart - now;

        if (remainingTime > 0) {
          const days = Math.floor(remainingTime / (1000 * 60 * 60 * 24));
          const hours = Math.floor(
            (remainingTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
          );
          const minutes = Math.floor(
            (remainingTime % (1000 * 60 * 60)) / (1000 * 60)
          );
          const seconds = Math.floor((remainingTime % (1000 * 60)) / 1000);

          document.getElementById(
            "countdown"
          ).textContent = `${days} يوم و ${hours} ساعات و ${minutes} دقيقة و ${seconds} ثواني`;
        } else {
          document.getElementById("countdown").textContent = "رمضان قد بدأ!";
        }
      }

      setInterval(updateRamadanCountdown, 1000); // Update every second

      // Fetch prayer times and weather data
      function fetchPrayerTimes() {
        fetch(adhanAPI)
          .then((response) => response.json())
          .then((data) => {
            document.getElementById("fajr").textContent =
              data.data.timings.Fajr;
            document.getElementById("dhuhr").textContent =
              data.data.timings.Dhuhr;
            document.getElementById("asr").textContent = data.data.timings.Asr;
            document.getElementById("maghrib").textContent =
              data.data.timings.Maghrib;
            document.getElementById("isha").textContent =
              data.data.timings.Isha;
          })
          .catch((error) => {
            console.error("Error fetching prayer times:", error);
            document.querySelectorAll("#prayer-times span").forEach((span) => {
              span.textContent = "Error loading data.";
            });
          });
      }

      function fetchWeather() {
        fetch(weatherAPI)
          .then((response) => response.json())
          .then((data) => {
            document.getElementById(
              "temperature"
            ).textContent = `${data.currentConditions.temp}°C`;
            document.getElementById("condition").textContent =
              data.currentConditions.conditions;
            document.getElementById("city").textContent =
              data.address || "Unknown city";
          })
          .catch((error) => {
            console.error("Error fetching weather data:", error);
            document.querySelectorAll("#weather span").forEach((span) => {
              span.textContent = "Error loading data.";
            });
          });
      }

      // Initial fetch and countdown setup
      document.addEventListener("DOMContentLoaded", function () {
        fetchPrayerTimes();
        fetchWeather();
        updateRamadanCountdown(); // Call on page load
      });

      const imsakiaAPI =
  "https://api.aladhan.com/v1/calendarByCity?city=Gharyan&country=Libya&method=2&month=3&year=2025";

fetch(imsakiaAPI)
fetch(imsakiaAPI)
  .then((response) => response.json())
  .then((data) => {
    const tbody = document.querySelector(".ramadan-timetable tbody");
    tbody.innerHTML = ""; // مسح الجدول الحالي
    data.data.forEach((day, index) => {
      const row = document.createElement("tr");
      row.innerHTML = `
        <td>${index + 1} رمضان</td>
        <td>${day.timings.Imsak}</td>
        <td>${day.timings.Fajr}</td>
        <td>${day.timings.Maghrib}</td>
        <td>${day.timings.Maghrib}</td>
        <td>${day.timings.Isha}</td>
      `;
      tbody.appendChild(row);
    });
  })
  .catch((error) => console.error("Error fetching Imsakia data:", error));
  
    </script>
  </body>
</html>
